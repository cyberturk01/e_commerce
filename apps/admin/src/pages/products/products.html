<app-blank
  pageTitle="Products"
  [breadcrumbs]='[{title:"Products",url:"/products",icon:"deployed_code"}]'
/>
<flexi-grid
  [data]="data()"
  [loading]="loading()"
  [showCaption]="true"
  captionTitle="Product Lists"
  [showExportExcelBtn]="true"
  (onRefresh)="result.reload()"
>
  <ng-template flexiGridCaptionCommandTemplate>
    <flexi-button
      routerLink="/products/create"
      btnIcon="add"
      btnColor="primary"
      title="Add Product"
      flexiTooltip
    ></flexi-button>
  </ng-template>
  <flexi-grid-column
    field="imageUrl"
    title="Image of Product"
    textAlign="center"
    width="70px"
    [filterable]="false"
  >
    <ng-template flexiGridCellTemplate let-item>
      <img
        [src]="item.imageUrl"
        width="70"
        height="70"
        style="object-fit: contain"
      />
    </ng-template>
  </flexi-grid-column>
  <flexi-grid-column field="name" title="Product name"></flexi-grid-column>
  <flexi-grid-column
    field="categoryName"
    title="Category Name"
    filterType="select"
    [filterData]="categoryFilter()"
  ></flexi-grid-column>
  <flexi-grid-column
    field="price"
    title="Item price"
    filterType="number"
    textAlign="right"
    format="c"
    symbol="â‚¬"
  ></flexi-grid-column>
  <flexi-grid-column
    field="stock"
    title="Number of Stock"
    filterType="number"
    textAlign="right"
  ></flexi-grid-column>
  <ng-template flexiGridColumnCommandTemplate let-item>
    <flexi-button
      routerLink="/products/edit/{{item.id}}"
      btnIcon="edit"
      btnColor="info"
      title="Edit"
      flexiTooltip
      btnSize="small"
    />
    <flexi-button
      (click)="delete(item.id)"
      btnIcon="delete"
      btnColor="danger"
      title="Delete"
      flexiTooltip
      btnSize="small"
    />
  </ng-template>
</flexi-grid>
