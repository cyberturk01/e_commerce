<app-blank
  pageTitle="Users"
  [breadcrumbs]='[{title:"Users",url:"/users",icon:"group"}]'
/>
<flexi-grid
  [data]="data()"
  [loading]="loading()"
  [showCaption]="true"
  captionTitle="User Lists"
  [showExportExcelBtn]="true"
  (onRefresh)="result.reload()"
>
  <ng-template flexiGridCaptionCommandTemplate>
    <flexi-button
      routerLink="/users/create/"
      btnIcon="Add"
      btnColor="primary"
      title="Add User"
      flexiTooltip
    />
  </ng-template>
  <flexi-grid-column field="firstName" title="First Name" textAlign="center" />
  <flexi-grid-column field="lastName" title="Last Name" textAlign="center" />
  <flexi-grid-column field="fullName" title="Full Name" textAlign="center" />
  <flexi-grid-column field="userName" title="User Name" textAlign="center" />
  <flexi-grid-column field="email" title="Email Address" textAlign="center" />
  <flexi-grid-column
    field="isAdmin"
    title="Is Admin"
    textAlign="center"
    filterType="boolean"
    [booleanData]="['Admin' , 'Not Admin']"
  >
    <ng-template flexiGridCellTemplate let-item>
      <div class="form-check form-switch d-flex justify-content-center">
        <input
          class="form-check-input"
          type="checkbox"
          role="switch"
          [id]="item.id"
          [checked]="item.isAdmin"
        />
      </div>
    </ng-template>
  </flexi-grid-column>

  <ng-template flexiGridColumnCommandTemplate let-item>
    <flexi-button
      routerLink="/users/edit/{{item.id}}"
      btnIcon="edit"
      btnColor="info"
      title="Edit"
      flexiTooltip
      btnSize="small"
    />
    <flexi-button
      (click)="delete(item.id)"
      btnIcon="delete"
      btnColor="danger"
      title="Delete"
      flexiTooltip
      btnSize="small"
    />
  </ng-template>
</flexi-grid>
